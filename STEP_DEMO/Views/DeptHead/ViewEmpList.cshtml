@model List<EmployeeViewModel>

<head>
    <link rel="stylesheet" type="text/css" href="~/Content/css/CustomStyles.css">
</head>

@using (Html.BeginForm("AddMarks", "ReportSuper", FormMethod.Post, new { id = "employeeForm" }))
{
    @Html.Hidden("employeeCode", null, new { id = "employeeCodeField" })
}

<h3 style="text-align:center;">Employee List</h3>
<br />
<br />
<div class="user-info-container">
    @if (Model != null && Model.Any())
    {
        <table class="user-info-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Employee Code</th>
                    <th>Department</th>
                    <th>Section</th>
                    <th>Designation</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var employee in Model)
                {
                    <tr>
                        @*<td>@employee.Name</td>*@
                        <td><a href="javascript:void(0);" onclick="setEmployeeCodeAndSubmit('@employee.EmployeeCode')">@employee.Name</a></td>
                        <td>@employee.EmployeeCode</td>
                        <td>@employee.Department</td>
                        <td>@employee.Section</td>
                        <td>@employee.Designation</td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>No employees found</p>
    }
</div>

<script>
    function setEmployeeCodeAndSubmit(code) {
        // set the value of the hidden input field
        document.getElementById("employeeCodeField").value = code;
        document.getElementById("employeeForm").submit();
    }
</script>