@model KraKpiViewModel

<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="~/Content/css/CustomStyles.css">
    <style>
        .kpi-textarea {
            width: 100%;
            height: 100px;
        }

        .form-control {
            width: 80%;
            display: inline-block;
        }

        #kra-kpi-table {
            margin-top: 20px;
        }

        .container {
            width: 100%;
            margin: auto;
        }
    </style>
</head>
<body>
    @*      new navigation buttons   *@

    <div class="card" style=" background-color: transparent;">
        <div id="menu_tab">

            <!-- Selected by default -->

<<<<<<< HEAD
            <input id="1" name="r" type="radio" />
=======
<<<<<<< HEAD
            <input id="1" name="r" type="radio" />
=======
            <input id="1" name="r" type="radio"  />
>>>>>>> b2b30358692f5e62f581fbf040a7526cf4477f93
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065
            <label class="collapse" for="1"><a href="@Url.Action("DisplayKrasAndKpis", "Home")"> 1. Outcome Entry</a></label>
            <div></div>

            <input id="2" name="r" type="radio" />
            <label class="collapse" for="2"> <a id="specialFactorsBtn" href="@Url.Action("SpecialFactors", "Employee")"> 2. Special Factor</a></label>
            <div></div>

            <input id="3" name="r" type="radio" />
            <label class="collapse" for="1"><a id="trainingNeedBtn" href="@Url.Action("TrainingNeed", "Employee")"> 3. Training</a></label>
            <div></div>

<<<<<<< HEAD
            <input id="3" name="r" type="radio" checked />
=======
<<<<<<< HEAD
            <input id="3" name="r" type="radio" checked />
=======
            <input id="3" name="r" type="radio" checked/>
>>>>>>> b2b30358692f5e62f581fbf040a7526cf4477f93
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065
            <label class="collapse" for="1"><a href="@Url.Action("KraKpiNextYear", "Home")">4. Next Year's Entry</a></label>
            <div></div>

            <input id="4" name="r" type="radio" />
            <label class="collapse" for="1"><a id="trainingNeedBtn" href="@Url.Action("DisplayAllData", "Employee")">5. Preview & Submit</a></label>
            <div></div>
        </div>
    </div>
    <br />
    <div class="container mt-4">
        <h4>Next Year's KRA and KPI Entry</h4>
        <br />

        @using (Html.BeginForm("KraKpiNextYear", "Home", FormMethod.Post))
        {
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>SL</th>
                        <th>KEY RESULT AREAS (KRA)<br>(Task and Personal Objectives)</th>
                        <th>KEY PERFORMANCE INDICATORS (KPI)<br>(Determine how KRA's to be measured)</th>
                        <th>Completion Deadline</th>
                    </tr>
                </thead>
                <tbody>
                    @for (int i = 0; i < 5; i++)
                    {
                        <tr>
                            <td style="vertical-align:middle">@(i + 1)</td>
                            <td style="vertical-align:middle;">
<<<<<<< HEAD
=======
<<<<<<< HEAD
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065

                                <input type="hidden" id="SessionId" name="SessionId" value="@Model.SessionId" />


<<<<<<< HEAD
=======
=======
>>>>>>> b2b30358692f5e62f581fbf040a7526cf4477f93
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065
                                @if (i < Model.KRA_IDs.Count)
                                {
                                    <input type="hidden" id="KRA_IDs_@(i)" name="KRA_IDs[@i]" value="@Model.KRA_IDs[i]" />
                                }
                                <input type="text" id="KRAs_@(i)" name="KRAs[@i]" class="form-control" value="@(i < Model.KRAs.Count ? Model.KRAs[i] : "")" />
                            </td>
                            <td>
                                @if (i < Model.KPIs.Count)
                                {
<<<<<<< HEAD
                                    for (int j = 0; j < 3; j++)
=======
<<<<<<< HEAD
                                    for (int j = 0; j < 3; j++)
=======
                                    for (int j = 0; j < Model.KPIs[i].Count; j++)
>>>>>>> b2b30358692f5e62f581fbf040a7526cf4477f93
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065
                                    {
                                        <div>
                                            @if (i < Model.KPI_IDs.Count && j < Model.KPI_IDs[i].Count)
                                            {
                                                <input type="hidden" id="KPI_IDs_@(i)_@(j)" name="KPI_IDs[@i][@j]" value="@Model.KPI_IDs[i][j]" />
                                            }
                                            <textarea id="KPIs_@(i)_@(j)" name="KPIs[@i][@j]" class="form-control kpi-textarea">@(i < Model.KPIs.Count && j < Model.KPIs[i].Count ? Model.KPIs[i][j] : "")</textarea>
                                        </div>
                                    }
                                }
                                else
                                {
                                    for (int j = 0; j < 3; j++)
                                    {
                                        <div>
                                            <textarea id="KPIs_@(i)_@(j)" name="KPIs[@i][@j]" class="form-control kpi-textarea"></textarea>
                                        </div>
                                    }
                                }
                            </td>
                            <td style="vertical-align:middle">
                                <input type="date" id="Durations_@(i)" name="Durations[@i]" class="form-control" value="@(i < Model.Durations.Count && Model.Durations[i] != null ? Model.Durations[i].Value.ToString("yyyy-MM-dd") : "")" />
                            </td>
                        </tr>
                    }
                </tbody>
            </table>

            <br />

<<<<<<< HEAD
=======
<<<<<<< HEAD
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065
            if (ViewBag.ApprovalSent != null && (bool)ViewBag.ApprovalSent)
            {
                <div class="alert alert-danger" role="alert">
                    <input type="submit" hidden="hidden" value="Save" class="btn btn-primary submit-btn" />
                    <i class="fas fa-info-circle"></i> Already Sent for Approval
                </div>
            }
            else
            {
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Save" class="btn btn-primary submit-btn" />
                    </div>
                </div>
            }
        }
    </div>

<<<<<<< HEAD
=======
=======
            <input type="submit" value="Save" class="btn btn-primary submit-btn" />
        }
    </div>
>>>>>>> b2b30358692f5e62f581fbf040a7526cf4477f93
>>>>>>> 9137fd13b8647680fe231d4a419dc66726002065
    <hr />
</body>
</html>
